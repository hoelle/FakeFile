!function(e){var i="hFakeFile",a={init:function(a){var t=e.extend({barWidth:20,barBackground:"#000000",handleBackground:"#888888",barPosition:"right",initialScroll:0,clickScrollDuration:200,displayPlaceholder:"",indicatorLabel:"Search ..."},a),n={display:"inline-block",position:"relative",width:"75%"},r={display:"inline-block",position:"absolute",right:"0",textAlign:"center",width:"24%"},l={display:"block",position:"absolute",width:"100%",height:"100%",left:0,top:0,opacity:0,cursor:"pointer",border:0,outline:0,zIndex:5};return this.each(function(){var a=e(this),o=a.data(i);if(!o){var s=e('<div class="fake-file" />'),c=a.clone().removeClass("fake-file"),d=e("<input />",{type:"text",name:c.attr("name")+"_display","class":"display",placeholder:t.displayPlaceholder}).css(n),p=e("<div />",{"class":"indicator"}).css(r).text(t.indicatorLabel);s.addClass(c.attr("class")),c.addClass("origin").removeAttr("name").css(l),s.append(d,p,c),a.replaceWith(s),c.change(function(e){var i=c.val(),a=i.lastIndexOf("/");-1==a&&(a=i.lastIndexOf("\\")),-1!=a&&(i=i.substr(a+1)),d.val(i)}),c.change(),a.data(i,e.extend(t,{target:a,container:s,inputDisplay:d,file:c})),o=a.data(i)}})},destroy:function(){return this.each(function(){var a=e(this),t=a.data(i);e(window).unbind("."+i),t.inputDisplay.remove(),t.container.replaceWith(t.file.removeClass("origin")),a.removeData(i)})}};e.fn.hFakeFile=function(i){return a[i]?a[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist on jQuery.hFakeFile"):a.init.apply(this,arguments)}}(jQuery);