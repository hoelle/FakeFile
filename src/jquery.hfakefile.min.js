!function(e){var a="hFakeFile",i={init:function(i){var t=e.extend({barWidth:20,barBackground:"#000000",handleBackground:"#888888",barPosition:"right",initialScroll:0,clickScrollDuration:200,displayPlaceholder:"",indicatorLabel:"Search ..."},i),n={display:"inline-block",position:"relative",width:"75%"},r={display:"inline-block",position:"absolute",right:"0",textAlign:"center",width:"24%"},l={display:"block",position:"absolute",width:"100%",height:"100%",left:0,top:0,opacity:0,cursor:"pointer",border:0,outline:0,zIndex:5};return this.each(function(){var i=e(this),o=i.data(a);if(!o){var s=e('<div class="fake-file" />'),c=i.clone().removeClass("fake-file"),d=e("<input />",{type:"text",name:c.attr("name")+"_display","class":"display",placeholder:t.displayPlaceholder}).prop("readonly",!0).css(n),p=e("<div />",{"class":"indicator"}).css(r).text(t.indicatorLabel);s.addClass(c.attr("class")),c.addClass("origin").removeAttr("name").css(l),s.append(d,p,c),i.replaceWith(s),c.change(function(e){var a=c.val(),i=a.lastIndexOf("/");-1==i&&(i=a.lastIndexOf("\\")),-1!=i&&(a=a.substr(i+1)),d.val(a)}),c.change(),i.data(a,e.extend(t,{target:i,container:s,inputDisplay:d,file:c})),o=i.data(a)}})},destroy:function(){return this.each(function(){var i=e(this),t=i.data(a);e(window).unbind("."+a),t.inputDisplay.remove(),t.container.replaceWith(t.file.removeClass("origin")),i.removeData(a)})}};e.fn.hFakeFile=function(a){return i[a]?i[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void e.error("Method "+a+" does not exist on jQuery.hFakeFile"):i.init.apply(this,arguments)}}(jQuery);